<!DOCTYPE html>
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <title>Spotify</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300&display=swap" rel="stylesheet">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-wraper">
            <div class="sidebar-logo">
                <img src="image/logo.png" >
            </div><!--sidebar-logo-->
            <div class="sidebar-menu">
                <a class="sidebar-menu-selecionado" href="#"><i class="fas fa-home"></i> Inicio</a>
                <a href="#"><i class="fas fa-search"></i> Buscar</a>
                <a href="#"><i class="fas fa-datebase"></i> Biblioteca</a>
            </div><!--sidebar-menu-->
        <div class="sidebar-menu">
            <a class="sidebar-menu-title">Playlist</a>
            <div class="sidebar-menu-item">
                <div class="sidebar-menu-item-componente">
                   <span>+</span> 
                </div><!--sidebar-menu-componente-->
                <span>Criar Playlist</span>
                <div class="sidebar-menu-item">
                    <img src="image/musicas_curtidas.png">
                    <span>Músicas Curtidas</span>
                </div><!--sidebar-menu-item-->
            </div><!--sidebar-menu- item-->
        </div><!--sidebar-menu-->
        <div class="sidebar-playlist">
            <a href="#">Playlist</a>
            <a href="#">Playlist</a>
            <a href="#">Playlist</a>
            <a href="#">Playlist</a>
            <a href="#">Playlist</a>
        </div><!--sidebar-playlist-->

        <div class="sidebar-playlist">
            <a href="#">Playlist</a>
            <a href="#">Playlist</a>
            <a href="#">Playlist</a>
            <a href="#">Playlist</a>
            <a href="#">Playlist</a>
        </div><!--sidebar-playlist-->

        <div class="sidebar-playlist">
            <a href="#">Playlist</a>
            <a href="#">Playlist</a>
            <a href="#">Playlist</a>
            <a href="#">Playlist</a>
            <a href="#">Playlist</a>
        </div><!--sidebar-playlist-->

        <div class="sidebar-playlist">
            <a href="#">Playlist</a>
            <a href="#">Playlist</a>
            <a href="#">Playlist</a>
            <a href="#">Playlist</a>
            <a href="#">Playlist</a>
        </div><!--sidebar-playlist-->

    </div><!--sidebar-wraper-->
    </div><!--sidebar-->
<div class="main">
    <div class="main-wraper">
        <div class="main-row-title"><h2>Paradas</h2></div><!--main-row-title-->

        <div class="main-row">
            <div class="main-col">
                <img src="image/top50.png">
                <h3>As 50 mais tocadas</h3>
                <p>Descrição da minha musica</p>
            </div><!--main-col-->

            <div class="main-col">
                <img src="image/top50global.png">
                <h3>As 50 mais tocadas</h3>
                <p>Descrição da minha musica</p>
            </div><!--main-col-->

            <div class="main-col">
                <img src="image/dapista.jpeg">
                <h3>Sertanjo</h3>
                <p>Descrição da minha musica</p>
            </div><!--main-col-->

            <div class="main-col">
                <img src="image/fela.jpeg">
                <h3>Funk</h3>
                <p>Descrição da minha musica</p>
            </div><!--main-col-->

            <div class="main-col">
                <img src="image/funk.jpeg">
                <h3>Eletrônica</h3>
                <p>Descrição da minha musica</p>
            </div><!--main-col-->

            <div class="main-col">
                <img src="image/music.jpeg">
                <h3>Pagode</h3>
                <p>Descrição da minha musica</p>
            </div><!--main-col-->
            <div class="main-row-title"><h2>Adicionadas Recentemente</h2></div><!--main-row-title-->

            <div class="main-row">
                <div class="main-col">
                    <img src="image/top50.png">
                    <h3>As Melhores</h3>
                    <p>Descrição da minha musica</p>
                </div><!--main-col-->
    
                <div class="main-col" data-image="image/fela.jpeg" data-artist="Tribo da Periferia" data-song="Imprevisivel" data-file="assets/imprevisivel.mp3" >
                    <img src="image/fela.jpeg" />
                    <h3>Tribo da Periferia</h3>
                    <p>Descrição da minha musica</p>
                </div><!--main-col-->
    
                    <div class="main-col" data-image="image/gunsrools.png" data-artist="Guns N Roses" data-song="Sweet Child Of Mine" data-file="assets/music.mp3" >
                        <img src="image/gunsrools.png" />
                    <h3>gunsrools</h3>
                    <p>Descrição da minha musica</p>
                </div><!--main-col-->
    

        </div><!--main-row-->
    </div>
</div><!--main-->

<div class="player">
<div class="player_artist">
</div><!--player_artist-->
<div class="player_control">
    <div class="player_control_bottom">
        <a href=""><i class="fas fa-backward"></i></a>
        <a style="display: none ;" id="pauseBtn" href="#"><i class="far fa-pause-circle"></i></a>
        <a id="playBtn" href="#"><i class="far fa-play-circle"></i></a>
        <a href=""><i class="fas fa-forward"></i></a>
    </div><!--player_control_bottom-->
    <div class="player_control_progress">
        <div style="width:0 ;" class="player_control_progress_2">
        </div><!--player-control--progress_2-->
    </div><!--player control progress-->
</div><!--player-control-->
</div><!--player-->
<audio id="audioplayer" style="position: absolute; left: 0; top: 0; z-index:-999; 
opacity: 0;"></audio>
    <script src="js/all.min.js"></script>
    <script>
        var audioPlayer = document.getElementById('audioplayer');
         var loaded = false;

        var playBtn = document.getElementById('playBtn');
        var pauseBtn = document.getElementById('pauseBtn');


        document.getElementById('pauseBtn').addEventListener('click',(e)=>{
            e.preventDefault();
            playBtn.style.display = 'inline';
            pauseBtn.style.display = 'none';
            audioPlayer.pause()

            return false;
        });
        document.getElementById('playBtn').addEventListener('click',(e)=>{
            e.preventDefault();
            playBtn.style.display = 'none';
            pauseBtn.style.display = 'inline';
            audioPlayer.play()

            return false;
        });
        const playSong = (File) =>{
            if(loaded == false){
                audioPlayer.innerHTML = '<source src="'+File+'" type ="audio/mp3"/>';
                loaded = true;
            }
            audioPlayer.play();
            playBtn.style.display = 'none';
            pauseBtn.style.display = 'inline';
        }
        document.querySelectorAll('.main-col').forEach(item=>{

            item.addEventListener('click',event=>{
					let image = item.getAttribute('data-image');
					let artist = item.getAttribute('data-artist');
					let song = item.getAttribute('data-song');
					let file = item.getAttribute('data-file');

                let playerArtistComponent = document.getElementsByClassName('player_artist');

playerArtistComponent[0].innerHTML = `
    <img src="`+image+`" />
    <h3>`+artist+`<br/><span>`+song+`</span></h3>

`;
playSong(file);


            })
        })
        			//Utilizar setinterval a cada segundo e atualizar a barra de progresso.

			audioPlayer.onloadstart = ()=>{
				alert('começou carregar.');
			}

			audioPlayer.oncanplaythrough = function() {
    			alert("Can start playing video");
    			audioPlayer.play();
    			alert(audioPlayer.duration);
			};

			//audioPlayer.play = function(){
				//alert('começou');
			//}

			audioPlayer.addEventListener('timeupdate',(e)=>{
				var currentTime = audioPlayer.currentTime;
				console.log(currentTime);
 		
			});
			//(segundo atual / segundo total) * 100

</script>
</body>
</html>